{% extends 'diary/base.html' %}
{% load static %}

{% block content %}


{% if messages %}
  {% for message in messages %}
    <div class="alert alert-success" role="alert">
      {{ message }}
    </div>
  {% endfor %}
{% endif %}

  <div id="calendar"></div>
{% endblock %}

{% block scripts %}
  {{ block.super }}
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const calendarEl = document.getElementById('calendar');
      if (calendarEl) {
        const calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: 'dayGridMonth',
          locale: 'el',
          headerToolbar: {
            left: 'prev,next today',
            center: 'title',
            right: ''
          },
          dateClick: function(info) {
            window.location.href = '/entry/' + info.dateStr + '/';
          },
          events: '/events/'
        });
        calendar.render();
      }
    });
  </script>
{% endblock %}

